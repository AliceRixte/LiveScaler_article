\documentclass{article}
\usepackage{jim,amsmath}
\usepackage[utf8]{inputenc}
\usepackage[french]{babel}
\usepackage[T1]{fontenc}

\usepackage[table]{xcolor}

\usepackage{tikz}
\usetikzlibrary{arrows,decorations.markings}
\usetikzlibrary{cd}
\usetikzlibrary{shapes.geometric,fit}
\usetikzlibrary{positioning}
\tikzcdset{every label/.append style = {font = \tiny}}

\usepackage{leadsheets}

\usepackage{minted}
\setkeys{Gin}{width=\linewidth,totalheight=\textheight,keepaspectratio}

\usepackage{mathtools}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amsthm}
\usepackage{amssymb}

\usepackage{graphicx}
\graphicspath{{Figures/}}
\usepackage{wrapfig}
\usepackage{float}

\usepackage{hyperref}
\interfootnotelinepenalty=10000

\usepackage{setspace}
\onehalfspacing

%\usepackage{caption}
\usepackage{subcaption}


\usepackage{csquotes}
\usepackage{comment}


\usepackage{tabularx}
\newcolumntype{Y}{>{\centering\arraybackslash}X}
\newcolumntype{Z}{>{\raggedright\arraybackslash}X}
\definecolor{tableShade}{gray}{0.9}

\usepackage[shortlabels]{enumitem}

\usepackage{relsize}

\usepackage{hyperref}

\usepackage{float}



\newcommand{\LSHist}{\texttt{Hist} }
\newcommand{\LSMod}{\texttt{Mod} }
\newcommand{\LSpp}{\texttt{++} }
\newcommand{\LSmm}{\texttt{-\hspace{0.5pt}-} }
\newcommand{\LSI}{\writechord{I}}
\newcommand{\LSII}{\writechord{II}}
\newcommand{\LSIII}{\writechord{III}}
\newcommand{\LSIV}{\writechord{IV}}
\newcommand{\LSV}{\writechord{V}}
\newcommand{\LSVI}{\writechord{VI}}
\newcommand{\LSVII}{\writechord{VII}}
\newcommand{\LSi}{\writechord{i}}
\newcommand{\LSii}{\writechord{ii}}
\newcommand{\LSiii}{\writechord{iii}}
\newcommand{\LSiv}{\writechord{iv}}
\newcommand{\LSv}{\writechord{v}}
\newcommand{\LSvi}{\writechord{vi}}
\newcommand{\LSvii}{\writechord{vii}}
\newcommand{\LStwo}{\texttt{2}}
\newcommand{\LSthree}{\texttt{3}}
\newcommand{\LSfour}{\texttt{4}}
\newcommand{\LSMm}{\texttt{M}$\leftrightarrow$\texttt{m} }

\DeclareRobustCommand{\svdots}{% s for `scaling'
  \vcenter{%
    \offinterlineskip
    \hbox{.}
    \vskip0.25\normalbaselineskip
    \hbox{.}
    \vskip0.25\normalbaselineskip
    \hbox{.}%
  }%
}




\title{LiveScaler : Contrôler en live l'harmonie d'un morceau de musique électronique}
\oneauthor
 {Alice Rixte} {Université de Bordeaux \\ alice.rixte@u-bordeaux.fr }

\begin{document}  

\maketitle

%\tableofcontents
\begin{abstract}
Dans le contexte de l'Electronic Dance Music, la plupart des artistes utilisent des techniques de \emph{DJing} pour performer leurs propres productions sur scène, se privant ainsi de l'accès à la structure interne de leurs morceaux, et en particulier de l'équivalent de leur partition : les fichiers MIDI joués par des instruments virtuels.

Cet article présente LiveScaler, un logiciel permettant de contrôler en live l'harmonie et la hauteur des notes de l'ensemble des instruments virtuels d'un morceau de musique électronique. LiveScaler introduit un ensemble restreint de transformations de l'espace des hauteurs de notes, les transformations affines. Ces transformations sont appliquées à l'ensemble des flux MIDI d'un morceau composé préalablement. Une implémentation utilisant Max MSP en combinaison avec Ableton Live (Max for Live) est proposée. Une attention particulière est portée aux questions de contrôle, de \emph{mapping} et de mise en pratique dans le cadre de l'Electronic Dance Music (EDM).
\end{abstract}

\begin{comment}
  a comme image à la place d'envoie
cohérence dans la notation des notes 
repliement de l'intervalle
ça marche pas bien quand on sort des modes diatoniques
mode de messiaen : modes à transposition limitée

Expliquiqué dans Techniques de mon langage musical ou dans son cours de composition, tome 1

expliquer dans l'introduction que ce que je veux faire, c'est du live, et faire de la musique

quelques canons stochastiques

Joe Zawinul Modules SEM ou Oberheim claviers en miroirs
\end{comment}

\section{Introduction}
\input{intro}
\section{Transformations de l'espace des hauteurs}
Dans cette section nous présentons l'ensemble des transformations de l'espace des hauteurs que nous utilisons dans LiveScaler. Commençons tout d'abord par définir mathématiquement l'espace des hauteurs de note que nous souhaitons manipuler.

\subsection{Espace des hauteurs}
Nous utilisons ici un espace des hauteurs linéaire. Celui-ci est obtenu à partir de la demi-droite réelle positive des fréquences, en fixant une origine arbitraire de fréquence $\alpha$ (par exemple $440$ Hz). Ici, nous appellerons cette fréquence l'\emph{ancre}.  À partir d'une fréquence $f>0$, on détermine une hauteur $p$ à par
$$p = \log_2(f/\alpha)$$

On obtient alors la droite réelle : $p\in \mathbb{R}$. En discrétisant cette droite, on peut obtenir une note $n$ à partir de la hauteur $p$ par 
$$n = \lfloor \beta p \rfloor$$

De cette manière, on obtient le tempérament à division multiple $\beta$-TET \footnote{TET signifie Tone Equal Temperament en anglais}. En particulier, lorsque $\beta = 12$ et $\alpha = 8.1758$ Hz \footnote{ $8.1758$ à $0$ est la fréquence (ici arrondie) correpondant à la note \writechord{C}$_{-1}$ et la note MIDI $0$.}, on retrouve le codage des hauteurs MIDI.

Ainsi, pour définir un tempérament multiple, nous avons besoins de deux paramètres : l'\emph{ancre} $\alpha$  et le nombre de divisions de l'octave $\beta$, que nous appelons \emph{base}. On définit ainsi \begin{align*}
  T\langle \alpha, \beta \rangle &: \mathbb{R}_+^* \rightarrow \mathbb{Z}\\
  &:f \mapsto \lfloor \beta \log_2(f/\alpha)\rfloor
\end{align*}


Dans cet article, nous nous intéresserons à l'\emph{espace des hauteurs linéaires} discrétisé $\mathbb{Z} = T\langle\alpha, \beta \rangle (\mathbb{R^*_+})$. Par abus de langage, on appellera ici la fonction $T\langle \alpha, \beta \rangle$ le \emph{tempérament égal} d'ancre $\alpha$ et de base $\beta$. En pratique, $\alpha$ correspondra toujours à une note MIDI, et on se permettra d'écrire $\alpha = \writechord{C}_5$ pour indiquer que la fréquence correspondant à la note $C_5$ est associée à $0$ dans $\mathbb{Z}$.

Nous définissons alors une \emph{transformation de gamme} comme une fonction qui à toute hauteur de note associe une nouvelle hauteur de note a priori quelconque, autrement dit une fonction $\mathbb{Z}$ dans $\mathbb{Z}$. Cette transformation est \emph{a priori} indépendante de la manière dont $\mathbb{Z}$ est relié à l'espace des fréquences.


\input{affines.tex}
\input{transpositions.tex}
\input{inversions.tex}
\input{gammeparton.tex}
\input{coeffmodal.tex}
\input{ancres.tex}
\input{restrictionintervalle.tex}

\section{Implémentation des transformations affines : LiveScaler}

Nous allons à présent nous intéresser à l'implémentation des transformations affines que nous venons de présenter afin de pouvoir les appliquer en live à l'ensemble des flux MIDI qui composent le morceau joué.

\input{architecture}
\input{timing}
\input{implementation}





\section{Escape : une performance avec LiveScaler }
Afin de tester la pertinence des transformations proposées, j'ai utilisé LiveScaler pour créer \emph{Escape}, une performance live de trance psychédélique. J'ai notamment pu proposer cette performance en publique pour la soutenance de mon mémoire de master en Septembre 2019. Dans cette section, j'expliquerai la manière dont j'ai procédé pour cette mise en pratique et je donnerai mes impressions subjectives en tant que musicienne et utilisatrice de LiveScaler.
\input{controleurs}
\input{mapping}
\input{composition}
\section{Travaux connexes}

\input{travauxconnexes}

\section{Conclusion}
\input{conclusion}

\subsection{Remerciements}
Je tenais à remercier ici David Janin et Martin Laliberté, mes encadrants de thèse, pour leur relecture et leurs nombreux conseils. Merci également à Chloé Lavrat, pour avoir pris le temps de me lire et de nos nombreuses discussions sur le sujet, toujours très inspirantes.

\newpage
%\printbibliography

\bibliography{refs} 
\bibliographystyle{plain}


\end{document}
