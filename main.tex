\documentclass[french,11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{babel}
\usepackage{eurosym}
\usepackage[affil-it]{authblk}

\usepackage[table]{xcolor}

\usepackage{tikz}
\usetikzlibrary{arrows,decorations.markings}
\usetikzlibrary{cd}
\usetikzlibrary{shapes.geometric,fit}
\usetikzlibrary{positioning}

\usepackage{leadsheets}

\usepackage[top=4cm, bottom=4cm, left=3cm, right=3cm]{geometry}
\usepackage[fencedCode,inlineFootnotes,citations,definitionLists,hashEnumerators,smartEllipses,hybrid,pipeTables, tableCaptions]{markdown}
\usepackage{keyval}

\usepackage[backend=biber,style=alphabetic,citestyle=authoryear-comp]{biblatex}
\addbibresource{refs.bib}

\usepackage{minted}
\setkeys{Gin}{width=\linewidth,totalheight=\textheight,keepaspectratio}

\usepackage{mathtools}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amsthm}
\usepackage{amssymb}



\usepackage{graphicx}
\graphicspath{{img/}}
\usepackage{wrapfig}
\usepackage{float}

\usepackage{hyperref}
\interfootnotelinepenalty=10000

\usepackage{setspace}
\onehalfspacing

\usepackage{caption}
\usepackage{subcaption}
\tikzcdset{every label/.append style = {font = \tiny}}

\usepackage{csquotes}
\usepackage{comment}


\usepackage{tabularx}
\definecolor{tableShade}{gray}{0.9}

\usepackage[shortlabels]{enumitem}





\title{LiveScaler}
\author{Alice Rixte}
\begin{document}  

\maketitle

\tableofcontents

\section{Introduction}
\section{Transformations de gammes}
\begin{comment}
  \subsection{Quelles transformations de gamme autoriser ?}
Les transformation affines de la forme $an + b$ où $n$ est la note de départ.
\subsection{Pourquoi ces transformations ?}
\begin{enumerate}
  \item Ces transformations sont adaptées à la musique tonale occidentale : passage du majeur au mineur.
  \item Elles sont facilement implémentables
  \item Elles peuvent être exprimées par une paire d'entiers, ce qui permet de les communiquer directement via MIDI.
\end{enumerate}


\subsection{Peut-on quand même sortir de la tonalité ?}
Oui : \begin{enumerate}
  \item on peut passer d'une gamme quelconque à une gamme par tons
  \item elles s'appliquent dans un contexte microtonal
  \item Possibilité d'ajouter une permutation quelconque personnalisée
\end{enumerate} 
\end{comment}
Dans cet article, on se place dans le contexte des tempéraments à division multiple. On notera $b$ le nombre de divisions de l'octave. Bien que l'ensemble des exemples proposés ici se focalisent sur le tempérament égal $b = 12$, le lecteur se persuadera aisément que tout ce qui est proposé ici peut se généraliser à tous les tempéraments à division multiple. On peut alors associer à toute note un entier $n\in \mathbb{Z}$. En particulier, nous utiliserons ici la norme MIDI en l'étendant à l'ensembles des entiers relatifs : $B_{-2}$ correspond ainsi à $-1$, $C_{-1}$ à $0$, $C\sharp_{-1}$  à $1$, $A_3$ à $57$ \dots

Nous définissons ici une \emph{transformation de gamme} comme une fonction qui à toute hauteur de note associe une nouvelle hauteur de note a priori quelconque, autrement dit une fonction $\mathbb{Z}$ dans $\mathbb{Z}$.

Un bon exemple de transformation de gamme est la transposition : à chaque note $n$ on associe la note $n+\tau$  décalée de $\tau$ demi-tons vers l'aigu lorsque $\tau$ est positif et vers le grave lorsque $\tau$ est négatif. Ainsi, une transposition de $\tau$ demi-tons est représentée par la transformation de gamme $ n \mapsto n+\tau$ (voir Figure \ref{fig:transp}).


\input{affines.tex}
\input{transpositions.tex}
\input{inversions.tex}
\input{gammeparton.tex}
\input{coeffmodal.tex}
\input{restrictionintervalle.tex}

  

\section{Implémentation des transformations de gamme : LiveScaler}

\subsection{Comment appliquer la transformation ?}
Architecture chef d'orchestre/ instrument : 
\begin{enumerate}
  \item Un seul changement de gamme est envoyé à tous les instruments simultanément
  \item Chaque instrument applique la transformation selon ses propres paramètres (e.g. intervalle de repliement)
  \item Deux types de paramètres : \begin{itemize}
    \item Paramètres globaux envoyés sous la forme de messages à tous les instruments sous forme de message. Par exemple : coefficients de la transformation affine.
    \item Paramètre local propre à chaque instrument d'interprétation des messages reçus. Par exemple : intervalle de repliement pour rester dans la tessiture de l'instrument.
    \end{itemize}
\end{enumerate}

\subsection{Quand appliquer la transformation ? }
Instantanément, car le flux MIDI en entrée fait office de "quantize".  ===> Quid des notes en cours ?
\begin{enumerate}
  \item On les arrête
  \item Legato
  \item Retrigger
\end{enumerate}
===> Le choix se fait séparément pour chaque instrument (paramètre local)


\subsection{Justification du choix M4L /Ableton Live}
L'architecture décrite précédemment est présentée comme un paradigme général, on présente ici l'implémentation concrète.
\begin{enumerate}
  \item Outil populaire dans le domaine de l'EDM
  \item Facilité d'utilisation et intégration dans un environnement 
  \item Prototypage aisé dans M4L
  \item Communication entre les entités d'Ableton Live via messages M4L
\end{enumerate}
On pourrait aisément rendre l'usage plus général en codant un couple de VST fonctionnant sur le même principe.

\section{Performance live }
\subsection{Mapping sur le contrôleur MIDI ATOM}
L'objectif est de pouvoir communiquer une transformation affine via un contrôleur MIDI en un seul geste musical.

\begin{figure}[htbp]
  \centering
  \includegraphics[width=0.55\textwidth]{Figures/Pads-config.pdf}
  \caption{Mapping de Live Scaler sur un contrôleur MIDI à $4\times 4$ pads}
\end{figure}
\begin{enumerate}
  \item Les distances sur le tonnetz sont similaires aux distances entre les pads
  \item Possibilité d'utilisation mélodique (on peut aisément jouer une gamme)
  \item Ancre : transposition et modulations (ajouter au cadre théorique ?)
  \item Historique : revenir aisément en arrière
\end{enumerate}

\subsection{Contrôle de la structure du morceau grâce à Push 2 et Ableton Live}
Séparation de la structure (Push 2) et de l'harmonie ATOM

\begin{figure}[htbp]
  \centering
  \includegraphics[width=\textwidth]{Figures/IMGP9899.jpg}
  \caption{Contrôleurs MIDI utilisés pour la performance live : à gauche le Push 2 par Ableton (contrôle de la structure du morceau) et à droite ATOM par Presonus (contrôle de l'harmonie du morceau).}
\end{figure}

\subsection{Contraintes sur la composition}
Liste des contraintes :
\begin{enumerate}
  \item Toutes les pistes doivent être MIDI : une piste audio ne serait pas impactée par les changements de gamme
  \item Pauvreté harmonique : le morceau doit être relativement pauvre harmoniquement, idéalement rester sur le même accord tout le long.
\end{enumerate}
Préparation d'une session pour utiliser Live Scaler
\begin{enumerate}
  \item Passer toutes les pistes en MIDI (utiliser des sampleurs pour les pistes audio )
  \item S'assurer qu'on ne sort pas de la tessiture des instruments
  \item Mettre les synthétiseurs et sampleurs en mode legato au maximum.
\end{enumerate}
\subsection{Retour d'expérience}
\begin{enumerate}
  \item Anticiper ses gestes : la transformation de gamme doit être prise en compte avant le moment précis où l'on souhaite qu'elle arrive. Peut devenir très technique assez rapidement
  \item Il est possible de faire concorder le geste avec le changement de gamme (malgré la latence et la faible avance nécessaire) : avantage par rapport au public
  \item Live Scaler est particulièrement adapté à la psytrance et à l'EDM, qui sont initialement harmoniquement pauvre.
\end{enumerate}


\section{Travaux connexes}
\subsection{Transformations de gamme en live coding}
\begin{enumerate}
  \item propositions de Tidal
  \item algorave
\end{enumerate}
\subsection{Théorie transformationnelle}
\begin{enumerate}
  \item Les transformations affines sont une généralisation 
  \begin{enumerate}
    \item des Tonnetz
    \item des k-Nets
  \end{enumerate}
  \item ces transformations sont étudiées et utilisées surtout dans un contexte d'analyse et d'aide à la composition (OpenMusic)
\end{enumerate}

\subsection{Macro contrôle d'un morceau de musique électronique}
\begin{enumerate}
  \item "Changing musical emotion"
\end{enumerate}

\section{Conclusion}
\subsection{Perpectives}
\begin{enumerate}
  \item Associer les changements de gammes à un contrôle d'image (VJing)
  \item Proposer un macro contrôle pour le rythme
  \item Obtenir le retour utilisateurs de musiciens et performeurs
\end{enumerate}
\newpage
\printbibliography


\end{document}
